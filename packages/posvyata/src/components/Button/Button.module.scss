@use 'sass:math';

@function repeat($character, $n) {
  $c: '';

  @for $i from 1 through $n {
    $c: $c + $character;
  }

  @return $c;
}

.root {
  border: none;
  background: transparent;
  cursor: pointer;

  font-size: 1.5em;

  &-hover {
    &-pixel-underline {
      $length: 15;

      position: relative;

      &::before {
        position: absolute;
        bottom: -20px;
      }

      &:hover::before {
        content: repeat('_', $length);
        animation: anim 0.4s ease-in;
      }

      @keyframes anim {
        @for $i from 0 to $length + 1 {
          $percent: ($i * math.div(1, $length)) * 100;

          #{'#{$percent}%'} {
            content: repeat('_', $i);
          }
        }
      }
    }
  }
}
